parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QHy1":[function(require,module,exports) {
module.exports={MAX_COURSES:20,MAX_SECTIONS:5,filename:"quest_schedule.ics",placeholders:[{placeholder:"@code",description:"Course code",example:"CS 452"},{placeholder:"@section",description:"Course section number",example:"001"},{placeholder:"@name",description:"Name of the course",example:"Real-time Programming"},{placeholder:"@type",description:"Type of course",example:"LEC"},{placeholder:"@location",description:"Room for the course",example:"DWE 3522A"},{placeholder:"@prof",description:"Instructor for the course",example:"William B Cowan"}],summary:"@code @type in @location",description:"@code-@section: @name (@type) in @location with @prof"};
},{}],"uxj1":[function(require,module,exports) {
"use strict";var e=this&&this.__generator||function(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(o){s=[6,o],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Course=void 0;var r=t(require("./config.json")),n=function(){function t(e){var t=e.code,r=e.name,n=e.section,i=e.type,o=e.location,c=e.prof,f=e.dateFormat,h=e.classDays,p=e.startTime,D=e.endTime,d=e.startDate,Y=e.endDate;this._code=t,this._name=r,this._section=u(n),this._type=u(i),this._location=u(o),this._prof=u(c);var T=h.replace(/Th/g,"H").toLowerCase();this._classDaysICal=a(Array.from(T));var _=function(){if(d===Y)return null;var e=l(f,Y);return e.setHours(23),e.setMinutes(59),e}();this._untilDateICal=s(_);var b=function(){for(var e={m:1,t:2,w:3,h:4,f:5},t=l(f,d),r=T.split("").map(function(t){return e[t]}),n=0;!r.includes(t.getDay())&&n++<365;){if(365===n)throw"Invalid first date of class";t.setDate(t.getDate()+1)}return t}(),m=function(e){var t=e.match(/(1?\d)\:([0-5]\d)/),r=parseInt(t[1]),n=parseInt(t[2]),a=0;e.match(/PM/)&&r<12&&(a=12);var s=new Date(b.getTime());return s.setHours(s.getHours()+r+a),s.setMinutes(s.getMinutes()+n),s};this._startTimeOnFirstDate=s(m(p)),this._endTimeOnFirstDate=s(m(D))}return t.prototype.printer=function(t,r){return e(this,function(e){switch(e.label){case 0:return[4,"BEGIN:VEVENT"];case 1:return e.sent(),[4,"DTSTART;TZID=America/Toronto:"+this._startTimeOnFirstDate];case 2:return e.sent(),[4,"DTEND;TZID=America/Toronto:"+this._endTimeOnFirstDate];case 3:return e.sent(),this._untilDateICal?[4,"RRULE:FREQ=WEEKLY;UNTIL="+this._untilDateICal+";WKST=SU;BYDAY="+this._classDaysICal]:[3,5];case 4:e.sent(),e.label=5;case 5:return[4,"SUMMARY:"+i(this.fillPlaceholders(t))];case 6:return e.sent(),[4,"LOCATION:"+this._location];case 7:return e.sent(),[4,"DESCRIPTION:"+i(this.fillPlaceholders(r))];case 8:return e.sent(),[4,"END:VEVENT"];case 9:return e.sent(),[2]}})},t.prototype.fillPlaceholders=function(e){for(var t=e,n=0,a=r.default.placeholders;n<a.length;n++){var s=a[n],i="_"+s.placeholder.substring(1),o=new RegExp("("+s.placeholder+")","g");t=t.replace(o,this[i])}return t},t}();function a(e){var t={m:"MO",t:"TU",w:"WE",h:"TH",f:"FR"};return e.map(function(e){return t[e]}).join(",")}function s(e){return e?""+e.getFullYear()+o(e.getMonth()+1)+o(e.getDate())+"T"+o(e.getHours())+o(e.getMinutes())+o(e.getSeconds()):""}function i(e){return e.replace(/,/g,"\\,")}function o(e){return(e<10?"0":"")+e}function u(e){return e.replace(/\s+/g," ").trim()}function l(e,t){var r,n,a,s=t.split("/").map(function(e){return parseInt(e)});switch(e){case"DD/MM/YYYY":r=s[2],n=s[1]-1,a=s[0];break;case"MM/DD/YYYY":r=s[2],n=s[0]-1,a=s[1];break;case"YYYY/MM/DD":r=s[0],n=s[1]-1,a=s[2];break;case"YYYY/DD/MM":r=s[0],n=s[2]-1,a=s[1];break;case"MM/YYYY/DD":r=s[1],n=s[0]-1,a=s[2];break;case"DD/YYYY/MM":r=s[1],n=s[2]-1,a=s[0];break;default:return new Date(t)}return new Date(r,n,a)}exports.Course=n;
},{"./config.json":"QHy1"}],"Bvlx":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalendarExporter=void 0;var t=e(require("./config.json")),o=require("./Course"),r=function(){function e(e,t,o,r){this._dateFormatType=e,this._questData=t,this._summary=o,this._description=r,this._courses=[]}return e.prototype.run=function(){this._parseData();var e=this._generateICal();this._downloadFile(e)},e.prototype._parseData=function(){var e=n(),r=a(this._questData);console.log(e),console.log(r);for(var s=0,i=null;;){if(s++>t.default.MAX_COURSES){console.warn("Exceeded loop count while searching for courses");break}if(!(i=e.exec(this._questData)))break;console.log(i);for(var d=0,u=null;;){if(d++>t.default.MAX_SECTIONS){console.warn("Exceeded loop count while searching for sections");break}if(!(u=r.exec(i[0])))break;if(console.log(u),"TBA"!==u[4]){var l=new o.Course({code:i[1],name:i[2],section:u[2],type:u[3],location:u[8],prof:u[9],dateFormat:this._dateFormatType,classDays:u[5],startTime:u[6],endTime:u[7],startDate:u[10],endDate:u[11]});this._courses.push(l)}}console.log("")}if(0===s||s>=t.default.MAX_COURSES)throw"Failed Search";console.log(this._courses)},e.prototype._generateICal=function(){var e="",t=function(t){e+=t+"\n"};t("BEGIN:VCALENDAR"),t("VERSION:2.0"),t("PRODID:-//www.QuestScheduleExporter.xyz//EN");for(var o=0,r=this._courses;o<r.length;o++)for(var n=r[o].printer(this._summary,this._description),a=void 0;!(a=n.next()).done;)t(a.value);return t("END:VCALENDAR"),e},e.prototype._downloadFile=function(e){var o=document.createElement("a");o.setAttribute("href","data:text/calendar;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",t.default.filename),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)},e}();function n(){var e="(\\w{2,5} \\d{3,4}) - (.*)"+("(?:(?!"+"(\\w{2,5} \\d{3,4}) - (.*)"+")[\\w|\\W])*");return new RegExp(e,"g")}function a(e){var t=null===/([0-5]\d[A|P]M)/.exec(e)?"[0-2]\\d\\:[0-5]\\d":"1?\\d\\:[0-5]\\d[AP]M",o=function(e){return"("+e+"|TBA)\\s*"},r="(\\d{4})\\s*(\\d{3}\\s*)(\\w{3}\\s*)"+o("([MThWF]{0,6})\\s*("+t+")\\ -\\ ("+t+")\\s*")+o("[\\w\\ ]+\\s*[0-9]{1,5}[A-Z]?")+o("[A-Za-z_\\ \\-\\,\\s]+")+"(\\d{2,4}\\/\\d{2,4}\\/\\d{2,4})\\ -\\ (\\d{2,4}\\/\\d{2,4}\\/\\d{2,4})";return new RegExp(r,"g")}exports.CalendarExporter=r;
},{"./config.json":"QHy1","./Course":"uxj1"}],"RGUf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./CalendarExporter");$.when($.ready).then(function(){$("button#generateBtn").click(function(t){t.preventDefault();var a=$("select#dateFormatType").val(),r=$("textarea#questData").val(),n=$("input#summary").val(),l=$("input#description").val();try{new e.CalendarExporter(a,r,n,l).run()}catch(u){console.error(u),alert("Unable to generate iCalendar file! Please submit an issue on GitHub.")}})});
},{"./CalendarExporter":"Bvlx"}]},{},["RGUf"], null)